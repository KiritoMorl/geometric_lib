name: Run Geometry Tests

on: [push]

jobs:
  test:
    strategy:
      matrix:
        os: [ubuntu-latest, windows-latest]
        python-version: ['3.9', '3.10', '3.11']
    
    runs-on: ${{ matrix.os }}
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
    
    - name: Set up Python
      uses: actions/setup-python@v4
      with:
        python-version: ${{ matrix.python-version }}
    
    - name: Add current directory to Python path
      run: |
        echo "PYTHONPATH=$PWD" >> $GITHUB_ENV
        # Для Windows
        echo "Current directory: $PWD"
        python -c "import sys; print('Python path:', sys.path)"
    
    - name: Run tests with Python path
      run: |
        python -c "import sys; sys.path.append('.'); import unittest; unittest.main(module=None, argv=['python', 'discover', '-v'])"